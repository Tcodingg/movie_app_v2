(this.webpackJsonpmovie_app_v2=this.webpackJsonpmovie_app_v2||[]).push([[0],{30:function(e,t,c){},39:function(e,t,c){},51:function(e,t,c){},52:function(e,t,c){},96:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c(22),r=c.n(n),s=(c(51),c(52),c.p+"static/media/tv.0049bc70.png"),i=(c(30),c(9)),o=c.n(i),j=c(19),d=c(14),l=c.n(d);var u="aa612f293de8cfae23f3d56312b5f998",p=c(8),b=c(15),h=c(1);function O(){var e=Object(b.b)(),t="https://image.tmdb.org/t/p/w500",c=Object(b.c)((function(e){return e.movieReducer})).movies,n=c.top_rated,r=c.popular_now,s=c.playing_now;return Object(a.useEffect)((function(){e(function(){var e=Object(j.a)(o.a.mark((function e(t,c){var a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCH_MOVIES_REQUEST"}),e.prev=1,e.next=4,l.a.get("https://api.themoviedb.org/3/movie/top_rated",{params:{api_key:u}});case 4:return a=e.sent,e.next=7,l.a.get("https://api.themoviedb.org/3/movie/popular",{params:{api_key:u}});case 7:return n=e.sent,e.next=10,l.a.get("https://api.themoviedb.org/3/movie/now_playing",{params:{api_key:u}});case 10:r=e.sent,t({type:"FETCH_MOVIES_SUCCESS",payload:{top_rated:a.data.results,popular_now:n.data.results,playing_now:r.data.results}}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),t({type:"ETCH_MOVIES_FAILURE",error:e.t0});case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t,c){return e.apply(this,arguments)}}())}),[]),Object(h.jsxs)("div",{children:[s&&Object(h.jsxs)("div",{className:"movie-content",children:[Object(h.jsx)("h1",{children:"NOW PLAYING"}),Object(h.jsx)("div",{className:"movies",children:s.map((function(e){return Object(h.jsx)(p.b,{to:"/details/".concat(e.id),children:Object(h.jsx)("img",{src:"".concat(t).concat(e.poster_path),alt:"movieImage"})},e.id)}))})]}),n&&Object(h.jsxs)("div",{className:"movie-content",children:[Object(h.jsx)("h1",{children:"TOP RATED"}),Object(h.jsx)("div",{className:"movies",children:n.map((function(e){return Object(h.jsx)(p.b,{to:"/details/".concat(e.id),children:Object(h.jsx)("img",{src:"".concat(t).concat(e.poster_path),alt:"movieImage"})},e.id)}))})]}),r&&Object(h.jsxs)("div",{className:"movie-content",children:[Object(h.jsx)("h1",{children:"POPULAR"}),Object(h.jsx)("div",{className:"movies",children:r.map((function(e){return Object(h.jsx)(p.b,{to:"/details/".concat(e.id),children:Object(h.jsx)("img",{src:"".concat(t).concat(e.poster_path),alt:"movieImage"})},e.id)}))})]})]})}function m(){return Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"home-banner",children:[Object(h.jsxs)("div",{className:"home-description",children:[Object(h.jsx)("h1",{children:"Enjoy Your TV."}),Object(h.jsxs)("p",{children:["Watch on Smart TVs, Playstation, Xbox,",Object(h.jsx)("span",{children:" Chromecast, Apple TV, Blu-ray players, and more."})]})]}),Object(h.jsx)("div",{className:"img-container",children:Object(h.jsx)("img",{src:s,alt:"tv"})})]}),Object(h.jsx)("div",{children:Object(h.jsx)(O,{})})]})}var v=c(13),f=c(3);function x(e){var t=Object(a.useState)(""),c=Object(v.a)(t,2),n=c[0],r=c[1],s=Object(a.useState)(""),i=Object(v.a)(s,2),o=(i[0],i[1]),j=Object(f.f)(),d=Object(b.b)();Object(f.g)();return Object(h.jsx)("div",{className:"main",children:Object(h.jsx)("input",{placeholder:"Search...",onKeyDown:function(e){"Enter"===e.key&&n.length>0&&(o(n),d({type:"SEARCH_MOVIE",payload:n}),j.push("/search/query=".concat(n)),r(""))},onChange:function(e){e.target.value,r(e.target.value)},value:n})})}c(39);var g=c(21),y=c.n(g),_=c(44),w=c.n(_);function E(e){var t=e.url;return Object(h.jsx)("div",{className:"player-wrapper",children:Object(h.jsx)(w.a,{className:"react-player",url:t,width:"100%",height:"100%"})})}function N(e){var t=e.match,c=Object(a.useState)([]),n=Object(v.a)(c,2),r=n[0],s=n[1],i=Object(a.useState)([]),d=Object(v.a)(i,2),u=d[0],b=d[1],O="aa612f293de8cfae23f3d56312b5f998",m="https://api.themoviedb.org/3/movie/".concat(t.params.id,"?api_key=").concat(O),f="https://api.themoviedb.org/3/movie/".concat(t.params.id,"/recommendations?api_key=").concat(O,"&language=en-US&page=1"),x="http://api.themoviedb.org/3/movie/".concat(t.params.id,"/videos?api_key=").concat(O),g=Object(a.useState)(0),_=Object(v.a)(g,2),w=_[0],N=_[1],S=Object(a.useState)([]),k=Object(v.a)(S,2),C=k[0],I=k[1],T=Object(a.useState)(""),R=Object(v.a)(T,2),V=R[0],F=R[1];return Object(a.useEffect)((function(){function e(){return(e=Object(j.a)(o.a.mark((function e(){var t,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get(m);case 2:t=e.sent,c=t.data,s(c),b(c.genres.map((function(e){return e}))),N((function(){return Number((c.vote_average/2).toFixed(1))}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[m]),Object(a.useEffect)((function(){(function(){var e=Object(j.a)(o.a.mark((function e(){var c,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get(f,{params:{movie_id:t.params.id,api_key:O}});case 2:c=e.sent,a=c.data,I(a.results),console.log(a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(a.useEffect)((function(){(function(){var e=Object(j.a)(o.a.mark((function e(){var t,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get(x);case 2:t=e.sent,c=t.data.results,F("https://www.youtube.com/watch?v="+c[0].key);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[V]),Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"details",children:[Object(h.jsx)("div",{className:"trailer",style:{margin:"0",width:"100%",height:"100%",display:"flex"},children:Object(h.jsx)("div",{className:"",style:{width:"100%",height:"auto"},children:Object(h.jsx)(E,{url:V})})}),Object(h.jsxs)("div",{className:"movie-description",children:[Object(h.jsxs)("h3",{children:[r.title," "]}),Object(h.jsxs)("p",{children:[r.overview," "]}),Object(h.jsxs)("div",{className:"genres-container",children:[Object(h.jsx)("div",{children:Object(h.jsx)("p",{children:"Genre:"})}),Object(h.jsx)("div",{className:"genres",children:u.map((function(e,t){return Object(h.jsx)("p",{className:"genres-title",children:e.name},t)}))})]}),Object(h.jsx)("div",{className:"rating-year",children:Object(h.jsx)("div",{className:"rating",children:Object(h.jsx)("span",{children:Object(h.jsx)(y.a,{count:5,size:24,color2:"#ffd700",value:w,edit:!1})})})})]})]}),Object(h.jsxs)("div",{className:"recommended",children:[Object(h.jsx)("h1",{style:{margin:"60px 10% 0 10%"},children:"Recommended"}),Object(h.jsx)("div",{className:"search",children:C.map((function(e){return Object(h.jsxs)("div",{onClick:function(){return window.location.reload()},className:"search-info",children:[Object(h.jsx)(p.b,{to:"/details/".concat(e.id),children:Object(h.jsx)("img",{src:"".concat("https://image.tmdb.org/t/p/w500").concat(e.poster_path),alt:"loading..."})}),Object(h.jsxs)("h3",{children:[e.title," "]}),Object(h.jsx)(y.a,{count:5,size:24,color2:"#ffd700",value:Number((e.vote_average/2).toFixed(1)),edit:!1})]},e.id)}))})]})]})}function S(e){var t="https://api.themoviedb.org/3/search/movie?",c="aa612f293de8cfae23f3d56312b5f998",n=Object(a.useState)([]),r=Object(v.a)(n,2),s=r[0],i=r[1],d=Object(b.c)((function(e){return e.inputReducer})),u=Object(f.f)(),O=Object(f.g)(),m=Object(f.h)().query;return Object(a.useEffect)((function(){if(m)try{function e(){return(e=Object(j.a)(o.a.mark((function e(){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get(t,{params:{api_key:c,query:m}});case 2:a=e.sent,n=a.data.results,i(n.filter((function(e){return null!==e.poster_path})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}catch(a){console.log(a)}}),[d,m,O,u]),Object(h.jsx)("div",{className:"search",children:s.map((function(e){return Object(h.jsxs)("div",{className:"search-info",children:[Object(h.jsx)(p.b,{to:"/details/".concat(e.id),children:Object(h.jsx)("img",{src:"".concat("https://image.tmdb.org/t/p/w500").concat(e.poster_path),alt:""})}),Object(h.jsxs)("h3",{children:[e.title," "]}),Object(h.jsx)(y.a,{count:5,size:24,color2:"#ffd700",value:Number((e.vote_average/2).toFixed(1)),edit:!1})]},e.id)}))})}var k=function(){return Object(h.jsx)("div",{className:"App",children:Object(h.jsxs)(p.a,{children:[Object(h.jsx)(x,{}),Object(h.jsxs)(f.c,{children:[Object(h.jsx)(f.a,{exact:!0,path:"/",component:m}),Object(h.jsx)(f.a,{path:"/search/query=:query",component:S}),Object(h.jsx)(f.a,{path:"/details/:id",component:N})]})]})})},C=c(18),I=c(16),T={search:"",movies:[],loading:!1,error:null};var R=Object(C.combineReducers)({movieReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH_MOVIE":return Object(I.a)(Object(I.a)({},e),{},{search:t.payload});case"FETCH_MOVIES_REQUEST":return Object(I.a)(Object(I.a)({},e),{},{loading:!0,error:null});case"FETCH_MOVIES_SUCCESS":return Object(I.a)(Object(I.a)({},e),{},{loading:!1,movies:t.payload});case"FETCH_MOVIES_FAILURE":return Object(I.a)(Object(I.a)({},e),{},{loading:!1,error:t.error});default:return e}}}),V=c(45),F=c(46),A=Object(C.createStore)(R,Object(F.composeWithDevTools)(Object(C.applyMiddleware)(V.a)));r.a.render(Object(h.jsx)(p.a,{children:Object(h.jsx)(b.a,{store:A,children:Object(h.jsx)(k,{})})}),document.getElementById("root"))}},[[96,1,2]]]);
//# sourceMappingURL=main.61c91fb0.chunk.js.map